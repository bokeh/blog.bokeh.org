<!doctype html>
<meta charset="utf-8">
<head>

<link rel="stylesheet" href="../../../../../static/normalize.css">
<link rel="stylesheet" href="../../../../../static/skeleton.css">
<link rel="stylesheet" href="../../../../../static/style.css">
<link rel="stylesheet" href="../../../../../static/gen/styles.css">
<link rel="stylesheet" href="../../../../../static/custom.css">
<link rel="stylesheet" href="../../../../../static/pygments.css">

<!-- Mobile Specific Metas
–––––––––––––––––––––––––––––––––––––––––––––––––– -->
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- FONT
–––––––––––––––––––––––––––––––––––––––––––––––––– -->
<link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

<title>Bokeh 0.12.2 Released | Bokeh Org</title>

</head>
<body>
    <div class="navbar-spacer"></div>
    <nav class="navbar">
      <div class="container">
        <ul class="navbar-list">
            <li class="navbar-item"><a class="navbar-link" href="/">Home</a></li>
            <li class="navbar-item"><a class="navbar-link" href="http://bokeh.pydata.org/en/latest">Documentation</a></li>
            <li class="navbar-item"><a class="navbar-link" href="/blog">Blog</a></li>
        </ul>
      </div>
    </nav>

    <div class="body-wrapper">
      
  <div class="blog-post">
    
  
    
  <div class="container">
    <div class="row">
      <div class="eleven columns">
        
      <div class="meta-bar">
        <h1>Bokeh 0.12.2 Released</h1>
        <p class="meta">
          by
          
            <a href="https://twitter.com/canavandl">Luke Canavan</a>
          
          on Friday, September 2, 2016
        </p>
      </div>
    
      </div>
    </div>
  </div>

  
  
    
      
  <div class="container">
    <div class="row">
      <div class="eleven columns">
        <div class="text-block text-block-default">
  <p>We're pleased to announce the release of Bokeh 0.12.2! This minor update
adds a few "small in footprint, but big in impact" features and several bug
fixes including:</p>
<ul>
<li>Color mapping support for all glyphs</li>
<li>New color bar annotation (to visualize your color mapped data, obviously)</li>
<li>LaTeX!!! (via support for loading external resources in custom models)</li>
<li>Hit-testing support for MultiLine glyphs</li>
<li>Improved HoverTool default styling</li>
<li>Addition of the Brewer qualitative color palettes</li>
<li>Split of the Bokeh JS API into a stand-alone bundle</li>
<li>Some notebook and layout fixes</li>
</ul>
<p>We'd also like to highlight a new project for creating map-based
visualizations that offers Bokeh as a back-end:
<a href="http://geo.holoviews.org/">GeoViews</a>. The GeoViews team has an introductory
<a href="https://www.continuum.io/blog/developer-blog/introducing-geoviews">blog post</a>
that's a worthwhile read.</p>
<p>Finally, we'd like to share a fun
<a href="http://astro.uchicago.edu/~mbedell/mr.html">Bokeh visualization</a> from Megan
Bedell, an astronomy doctoral student at University of Chicago. On her academic
page, she has plot of exoplanet compositions and masses versus radii with
elements that link to the planetary system's page at
<a href="../../../../../blog/2016/9/2/release-0-12-2/www.openexoplanetcatalogue.com/">Open Expoplanet Catalogue</a> when clicked. So
cool!</p>
<hr>
<p>For full details, see the <a href="https://github.com/bokeh/bokeh/blob/0.12.2/CHANGELOG">CHANGELOG</a>
and <a href="http://bokeh.pydata.org/en/latest/docs/releases/0.12.2.html">Release Notes</a>.</p>
<p>This release can most easily be installed in the usual ways:
<code>conda install bokeh</code> if you are using <a href="https://www.continuum.io/downloads">Anaconda</a>
or <code>pip install bokeh</code> otherwise.</p>
<hr>
<h4>New color mapping capability and color bar annotation</h4>
<p>Support for "computed transforms" was added in the 0.12.0 release, in order to
do things like add a
<a href="http://bokeh.pydata.org/en/latest/docs/gallery/jitter.html">jitter</a> to a data
column. Thanks to Sarah Bird, color mapping is now a supported computed
transform, making it possible to use a <code>ColorMapper</code> object to map a data
column to a color palette.</p>
<p>Bokeh has also added a new <code>ColorBar</code> annotation, which accepts the same
<code>ColorMapper</code> as an argument. Here is an example of both:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bokeh.models</span> <span class="kn">import</span> <span class="n">HoverTool</span><span class="p">,</span> <span class="n">ColorBar</span><span class="p">,</span> <span class="n">LinearColorMapper</span><span class="p">,</span> <span class="n">FixedTicker</span>
<span class="kn">from</span> <span class="nn">bokeh.plotting</span> <span class="kn">import</span> <span class="n">figure</span><span class="p">,</span> <span class="n">show</span><span class="p">,</span> <span class="n">output_file</span><span class="p">,</span> <span class="n">ColumnDataSource</span>
<span class="kn">from</span> <span class="nn">bokeh.sampledata.us_counties</span> <span class="kn">import</span> <span class="n">data</span> <span class="k">as</span> <span class="n">counties</span>
<span class="kn">from</span> <span class="nn">bokeh.sampledata.unemployment</span> <span class="kn">import</span> <span class="n">data</span> <span class="k">as</span> <span class="n">unemployment</span>

<span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;texas.html&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;texas.py example&quot;</span><span class="p">)</span>

<span class="n">counties</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">code</span><span class="p">:</span> <span class="n">county</span> <span class="k">for</span> <span class="n">code</span><span class="p">,</span> <span class="n">county</span> <span class="ow">in</span> <span class="n">counties</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">county</span><span class="p">[</span><span class="s2">&quot;state&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;tx&quot;</span>
<span class="p">}</span>

<span class="n">county_xs</span> <span class="o">=</span> <span class="p">[</span><span class="n">county</span><span class="p">[</span><span class="s2">&quot;lons&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">county</span> <span class="ow">in</span> <span class="n">counties</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
<span class="n">county_ys</span> <span class="o">=</span> <span class="p">[</span><span class="n">county</span><span class="p">[</span><span class="s2">&quot;lats&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">county</span> <span class="ow">in</span> <span class="n">counties</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
<span class="n">county_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">county</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">county</span> <span class="ow">in</span> <span class="n">counties</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
<span class="n">county_rates</span> <span class="o">=</span> <span class="p">[</span><span class="n">unemployment</span><span class="p">[</span><span class="n">county_id</span><span class="p">]</span> <span class="k">for</span> <span class="n">county_id</span> <span class="ow">in</span> <span class="n">counties</span><span class="p">]</span>

<span class="n">source</span> <span class="o">=</span> <span class="n">ColumnDataSource</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">county_xs</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="n">county_ys</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="n">county_names</span><span class="p">,</span>
    <span class="n">rate</span><span class="o">=</span><span class="n">county_rates</span><span class="p">,</span>
<span class="p">))</span>

<span class="n">color_mapper</span> <span class="o">=</span> <span class="n">LinearColorMapper</span><span class="p">(</span><span class="n">palette</span><span class="o">=</span><span class="s2">&quot;Viridis8&quot;</span><span class="p">,</span> <span class="n">low</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">high</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>

<span class="n">TOOLS</span><span class="o">=</span><span class="s2">&quot;pan,wheel_zoom,box_zoom,reset,hover,save&quot;</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Texas Unemployment 2009&quot;</span><span class="p">,</span> <span class="n">tools</span><span class="o">=</span><span class="n">TOOLS</span><span class="p">,</span>
           <span class="n">x_axis_location</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">y_axis_location</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">grid_line_color</span> <span class="o">=</span> <span class="bp">None</span>

<span class="c1">#</span>
<span class="c1"># Here we&#39;re applying the color_mapper instance as the transform to the</span>
<span class="c1"># `rate` data field in order to set the Patch `fill_color`</span>
<span class="c1">#</span>
<span class="n">p</span><span class="o">.</span><span class="n">patches</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">,</span>
          <span class="n">fill_color</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;field&#39;</span><span class="p">:</span> <span class="s1">&#39;rate&#39;</span><span class="p">,</span> <span class="s1">&#39;transform&#39;</span><span class="p">:</span> <span class="n">color_mapper</span><span class="p">},</span>
          <span class="n">fill_alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">line_width</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="n">hover</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">select_one</span><span class="p">(</span><span class="n">HoverTool</span><span class="p">)</span>
<span class="n">hover</span><span class="o">.</span><span class="n">point_policy</span> <span class="o">=</span> <span class="s2">&quot;follow_mouse&quot;</span>
<span class="n">hover</span><span class="o">.</span><span class="n">tooltips</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s2">&quot;Name&quot;</span><span class="p">,</span> <span class="s2">&quot;@name&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">&quot;Unemployment rate)&quot;</span><span class="p">,</span> <span class="s2">&quot;@rate%&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">&quot;(Long, Lat)&quot;</span><span class="p">,</span> <span class="s2">&quot;($x, $y)&quot;</span><span class="p">),</span>
<span class="p">]</span>

<span class="n">color_bar</span> <span class="o">=</span> <span class="n">ColorBar</span><span class="p">(</span><span class="n">color_mapper</span><span class="o">=</span><span class="n">color_mapper</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span>
                     <span class="n">location</span><span class="o">=</span><span class="s1">&#39;bottom_left&#39;</span><span class="p">,</span> <span class="n">scale_alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span>
                     <span class="n">ticker</span><span class="o">=</span><span class="n">FixedTicker</span><span class="p">(</span><span class="n">ticks</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">18</span><span class="p">]))</span>
<span class="n">p</span><span class="o">.</span><span class="n">add_layout</span><span class="p">(</span><span class="n">color_bar</span><span class="p">)</span>

<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
<p>Running the script generates the plot below. Additionally, if you hover over
the Texas counties you'll notice the new default HoverTool styling.</p>
<div class="bk-root">

  <script
      src="texas.js"
      id="3317458a-344e-47ad-a406-a64017063c15"
      data-bokeh-model-id="4666e794-4e4a-41aa-9078-9a60df2c53b1"
      data-bokeh-doc-id="96e9994b-68a2-4ff8-ad57-0caf37e44fac">
  </script>

</div><h4>LaTeX!!! (via support for loading external resources in custom models)</h4>
<p>One exciting aspect of Bokeh is the ability to create
<a href="http://bokeh.pydata.org/en/latest/docs/user_guide/extensions.html#extending-bokeh">custom extensions</a>.
Bokeh v0.12.2 has added support for including third-party JavaScript libraries
or CSS resources through the Python class attributes <code>__javascript__</code> and
<code>__css__</code> of custom models. This new functionality allows users to include the necessary JS and CSS files
in order to use the wonderful <a href="https://khan.github.io/KaTeX/">KaTeX</a> library
in the creation of a LaTeXLabel custom model.</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">LaTeXLabel</span><span class="p">(</span><span class="n">Label</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A subclass of the Bokeh built-in `Label` that supports rendering</span>
<span class="sd">    LaTeX using the KaTeX typesetting library.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">__javascript__</span> <span class="o">=</span> <span class="s2">&quot;https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/katex.min.js&quot;</span>
    <span class="n">__css__</span> <span class="o">=</span> <span class="s2">&quot;https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/katex.min.css&quot;</span>
    <span class="n">__implementation__</span> <span class="o">=</span> <span class="s2">&quot;...&quot;</span>
</pre></div>
<p>See the LaTex example in the
<a href="http://bokeh.pydata.org/en/latest/docs/user_guide/extensions.html#examples">extensions gallery</a>
to see the full implementation. The output is below:</p>
<div class="bk-root">

    <script
        src="latex.js"
        id="565e9069-85b7-4a81-a5c2-b3974428fad7"
        data-bokeh-model-id="98d01587-0cb6-446e-8df6-820154ed4151"
        data-bokeh-doc-id="943cbb8d-8a50-4dcd-a206-10647f964cc2">
    </script>

</div><p>Apart from rendering LaTeX, support for third-party resources allows users to
utilize <strong>any</strong> JavaScript library. Developing custom map visualizations using
<a href="https://www.mapbox.com/mapbox.js/api/v2.4.0/">Mapbox.js</a> or custom plugins
from <a href="http://ionden.com/plugins.html">IonDen</a> is now possible.</p>
<hr>
<p>There are nearly 200 total contributors to Bokeh and their time and effort are
what make Bokeh such an amazing project and community. Thank you again for your
contributions.</p>
<p>Finally (as always), for questions, technical assistance or if you're interested in
contributing, please ask the
<a href="https://groups.google.com/a/continuum.io/forum/#!forum/bokeh">Bokeh mailing list</a>
or join the chat on <a href="https://gitter.im/bokeh/bokeh">Gitter</a>.</p>
<p>Thanks,</p>
<p>Luke Canavan</p>

</div>
      </div>
    </div>
  </div>

    
  


    
    
    
    <div class="container">
      <div class="row">
        <div class="eight columns">
        
        
          <div class="nav-next">
            <a href="../../../../../blog/2016/6/28/release-0-12/">Next: Bokeh 0.12 Released</a>
          </div>
        
        </div>
      </div>
    </div>
  </div>

    </div>

    
    <div class="bottomsummary">
      <div class="container">
      </div>
    </div>
    

    
    <footer>
      <div class="container">
        <div class="row">
          <div class="four columns icon-bar">
            <a href="https://github.com/bokeh/bokeh/" title="Bokeh on GitHub"
              ><i class="fa fa-github"></i></a>
            <a href="https://github.com/bokeh/bokeh/issues/" title="Report Issues for Bokeh"
              ><i class="fa fa-bug"></i></a>
            <a href="https://twitter.com/BokehPlots" title="Find Bokeh on Twitter"
              ><i class="fa fa-twitter"></i></a>
            <a href="https://gitter.im/bokeh/bokeh" title="Chat on Gitter"
              ><i class="fa fa-comment"></i></a>
            <a href="https://github.com/bokeh/bokeh.github.io/tree/source/content/blog/release-0-12-2/contents.lr" title="View source for this page"><i class="fa fa-code"></i></a>
          </div>
        </div>
      </div>
    </footer>
    

<!-- JS
================================================== -->
<script src="https://code.jquery.com/jquery-1.7.1.min.js"></script>

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27761864-7', 'pydata.org');
  ga('send', 'pageview');
</script>

</body>
