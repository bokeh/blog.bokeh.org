<!doctype html>
<meta charset="utf-8">
<head>

<link rel="stylesheet" href="../../../../../static/normalize.css">
<link rel="stylesheet" href="../../../../../static/skeleton.css">
<link rel="stylesheet" href="../../../../../static/style.css">
<link rel="stylesheet" href="../../../../../static/gen/styles.css">
<link rel="stylesheet" href="../../../../../static/custom.css">
<link rel="stylesheet" href="../../../../../static/pygments.css">

<!-- Mobile Specific Metas
–––––––––––––––––––––––––––––––––––––––––––––––––– -->
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- FONT
–––––––––––––––––––––––––––––––––––––––––––––––––– -->
<link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

<title>Bokeh 0.12.1 Released | Bokeh Org</title>

</head>
<body>
    <div class="navbar-spacer"></div>
    <nav class="navbar">
      <div class="container">
        <ul class="navbar-list">
            <li class="navbar-item"><a class="navbar-link" href="/">Home</a></li>
            <li class="navbar-item"><a class="navbar-link" href="http://bokeh.pydata.org/en/latest">Documentation</a></li>
            <li class="navbar-item"><a class="navbar-link" href="/blog">Blog</a></li>
        </ul>
      </div>
    </nav>

    <div class="body-wrapper">
      
  <div class="blog-post">
    
  
    
  <div class="container">
    <div class="row">
      <div class="eleven columns">
        
      <div class="meta-bar">
        <h1>Bokeh 0.12.1 Released</h1>
        <p class="meta">
          by
          
            <a href="https://twitter.com/bigreddot">Bryan Van de Ven</a>
          
          on Tuesday, June 28, 2016
        </p>
      </div>
    
      </div>
    </div>
  </div>

  
  
    
      
  <div class="container">
    <div class="row">
      <div class="eleven columns">
        <div class="text-block text-block-default">
  <p>I'm pleased to announce that Bokeh Version 0.12.1 has been released! This is
a minor, incremental update that adds a few new small features and fixes several
bugs. Some of the highlights include:</p>
<ul>
<li>Add <code>.patch</code> method to <code>ColumnDataSource</code> for efficient partial updates.</li>
<li>Add <code>.visible</code> property to all glyphs for easy on/off capability.</li>
<li>Add qualitative Brewer colormapps to <code>bokeh.palettes</code>.</li>
<li>Add new <code>VBar</code> and <code>HBar</code> glyph types.</li>
<li>Update BokehJS to use use RBush 2.0.1 for more efficient spatial indexing.</li>
<li>Restore <code>ResizeTool</code> functionality for simple layouts.</li>
<li>Fix Windows support for conda build, docs build, and running unit tests.</li>
<li>Fix a bug in the HTML template for <code>autoload_server</code> causing incorrect layouts.</li>
<li>Fix a bug in the toolbar CSS, causing it to interfere with hit testing and selection.</li>
<li>Fix WebGL support for Safari, and WebGL bug affecting line thickness.</li>
<li>Fix intermittent issues with BokehJS loading in Jupyter notebooks.</li>
</ul>
<hr>
<p>For full details, see the <a href="https://github.com/bokeh/bokeh/blob/0.12.1/CHANGELOG">CHANGELOG</a>
and <a href="http://bokeh.pydata.org/en/latest/docs/releases/0.12.1.html">Release Notes</a>.</p>
<p>This release can most easily be installed in the usual ways:
<code>conda install bokeh</code> if you are using <a href="https://www.continuum.io/downloads">Anaconda</a>
or <code>pip install bokeh</code> otherwise.</p>
<hr>
<h4>Glyph <code>visible</code> property</h4>
<p>An often requested feature is a simpler way to toggle glyph visibility on and
off. Thanks to Sarah Bird, this is is now possible to do by setting the
<code>.visible</code> property of a glyph renderer to <code>True</code> or <code>False</code>. This
property can be used in Bokeh Applications as well as in standalone documents
that utilize <code>CustomJS</code> callbacks. Here is an example of the latter:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">linspace</span><span class="p">,</span> <span class="n">sin</span><span class="p">,</span> <span class="n">cos</span>
<span class="kn">from</span> <span class="nn">bokeh.io</span> <span class="kn">import</span> <span class="n">output_file</span><span class="p">,</span> <span class="n">show</span>
<span class="kn">from</span> <span class="nn">bokeh.layouts</span> <span class="kn">import</span> <span class="n">row</span>
<span class="kn">from</span> <span class="nn">bokeh.plotting</span> <span class="kn">import</span> <span class="n">figure</span>
<span class="kn">from</span> <span class="nn">bokeh.models</span> <span class="kn">import</span> <span class="n">CheckboxGroup</span><span class="p">,</span> <span class="n">CustomJS</span>

<span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;line_on_off.html&quot;</span><span class="p">)</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">plot_width</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">plot_height</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
<span class="n">l0</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;firebrick&quot;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="s2">&quot;line 0&quot;</span><span class="p">,</span> <span class="n">line_width</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">l1</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;navy&quot;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="s2">&quot;line 1&quot;</span><span class="p">,</span> <span class="n">line_width</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">legend</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="s2">&quot;bottom_left&quot;</span>

<span class="n">checkbox</span> <span class="o">=</span> <span class="n">CheckboxGroup</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;line 0&quot;</span><span class="p">,</span> <span class="s2">&quot;line 1&quot;</span><span class="p">],</span> <span class="n">active</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">width</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">checkbox</span><span class="o">.</span><span class="n">callback</span> <span class="o">=</span> <span class="n">CustomJS</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">l0</span><span class="o">=</span><span class="n">l0</span><span class="p">,</span> <span class="n">l1</span><span class="o">=</span><span class="n">l1</span><span class="p">,</span> <span class="n">checkbox</span><span class="o">=</span><span class="n">checkbox</span><span class="p">),</span>
                             <span class="n">lang</span><span class="o">=</span><span class="s2">&quot;coffeescript&quot;</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">l0.visible = 0 in checkbox.active;</span>
<span class="s2">l1.visible = 1 in checkbox.active;</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>

<span class="n">show</span><span class="p">(</span><span class="n">row</span><span class="p">(</span><span class="n">checkbox</span><span class="p">,</span> <span class="n">p</span><span class="p">))</span>
</pre></div>
<p>Running the script generates the plot below. Click the checkbox to toggle
the different lines on and off:</p>
<div class="bk-root">

  <script
      src="on_off.js"
      id="c0de583f-da1b-4c14-ba8e-9394360fa861"
      data-bokeh-model-id="e0726c48-cc3d-4119-a534-d8b7575b9101"
      data-bokeh-doc-id="37ef83f8-2be4-42d5-9836-4b749a73af07"
  ></script>

</div><p>You can see an example of using this in a Bokeh application in the
<a href="https://github.com/bokeh/bokeh/blob/0.12.1/examples/app/line_on_off.py">line_on_off.py demo</a>
in the GitHub repository.</p>
<p>In a future release, this groundwork will enable toggling directly through
interactive legends.</p>
<h4>Patching for ColumnDataSource</h4>
<p>One of the fundamental features of Bokeh Applications is that they
automatically keep Python objects and JavaScript objects in sync. This makes
it easy to write simple python scripts that respond to user events or
interactions to update the application in the browser. But there is room for
optimization in some cases. Bokeh already provides <code>stream</code> method for
efficiently streaming new data to the end of <code>ColumnDataSource</code> columns.
See the <a href="https://github.com/bokeh/bokeh/tree/0.12.1/examples/app/ohlc">OHLC demo</a>
for one example of streaming.</p>
<p>Another place where optimization can help is when only a few  individual values
in a large <code>ColumnDataSource</code> need updating. Previously, this required
re-sending the entire data set, but now there is a new <code>patch</code> method that
can make these sorts of updates much more efficent. The <code>patch</code> method is
called with a dictionary that specifies a list of <code>(index, newval)</code> tuples
for any columns in the data source:</p>
<div class="highlight"><pre><span></span><span class="n">source</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="p">[(</span><span class="n">index</span><span class="p">,</span> <span class="n">newval</span><span class="p">),</span> <span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">newval</span><span class="p">),</span> <span class="o">...</span><span class="p">]</span>
    <span class="n">y</span><span class="o">=</span><span class="p">[(</span><span class="n">index</span><span class="p">,</span> <span class="n">newval</span><span class="p">),</span> <span class="o">...</span><span class="p">],</span>
    <span class="o">...</span>
<span class="p">))</span>
</pre></div>
<p>When used to update individual elements in columns, <code>patch</code> only sends the
specified updated values over the network.</p>
<h4>WebGL support for Safari</h4>
<p>With the <code>0.12</code> release, WebGL support in Bokeh was extended to a number of
new glyph types. However, WebGL support also suffered a major problem: an
obscure bug prevented it from working on Safari. We were finally able to
connect Almar Klein to a real Mac laptop to use for debugging, and then he
squashed the bug in short order. As an example, you can see the plot below
with 10,000 points panning and zooming smoothly on all platforms:</p>
<div class="bk-root">

  <script
      src="webgl.js"
      id="e469eaf5-9a34-4297-9544-9f88adbdb27a"
      data-bokeh-model-id="85f9da2c-176e-4a6a-9cce-36e1cb0c1692"
      data-bokeh-doc-id="7bf066ff-f61c-4888-8dd2-5c61e54da4e9"
  ></script>

</div><hr>
<p>Finally, I would just like to say <strong>Thank You</strong> to all the new contributors.
There was a terrific group of SciPy sprinters: Julia Signell, Sarah Heim,
Tim Snyder, Steven Howell, Andrea Ernlund, and Eric Ma. And other recent
contributions have come from: Nikola Hardi, John Dimattio, James Guillochon,
Chris Coutinho, and Brigita Sipocz. (Apologies to anyone I have unintentionally
left off.) Individual contributions such as these help move Bokeh development
faster than could otherwise be possible, and are <em>always</em> welcome!</p>

</div>
      </div>
    </div>
  </div>

    
  


    
    
    
    <div class="container">
      <div class="row">
        <div class="eight columns">
        
          <div class="nav-prev">
            <a href="../../../../../blog/2016/6/28/release-0-12/">Previous: Bokeh 0.12 Released</a>
          </div>
        
        
        </div>
      </div>
    </div>
  </div>

    </div>

    
    <div class="bottomsummary">
      <div class="container">
      </div>
    </div>
    

    
    <footer>
      <div class="container">
        <div class="row">
          <div class="four columns icon-bar">
            <a href="https://github.com/bokeh/bokeh/" title="Bokeh on GitHub"
              ><i class="fa fa-github"></i></a>
            <a href="https://github.com/bokeh/bokeh/issues/" title="Report Issues for Bokeh"
              ><i class="fa fa-bug"></i></a>
            <a href="https://twitter.com/BokehPlots" title="Find Bokeh on Twitter"
              ><i class="fa fa-twitter"></i></a>
            <a href="https://gitter.im/bokeh/bokeh" title="Chat on Gitter"
              ><i class="fa fa-comment"></i></a>
            <a href="https://github.com/bokeh/bokeh.github.io/tree/source/content/blog/release-0-12-1/contents.lr" title="View source for this page"><i class="fa fa-code"></i></a>
          </div>
        </div>
      </div>
    </footer>
    

<!-- JS
================================================== -->
<script src="https://code.jquery.com/jquery-1.7.1.min.js"></script>

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27761864-7', 'pydata.org');
  ga('send', 'pageview');
</script>

</body>
